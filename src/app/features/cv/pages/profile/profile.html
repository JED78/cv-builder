<div class="max-w-3xl mx-auto px-4 py-8">

  <!-- T√çTULO PRINCIPAL -->
  <div class="flex items-center gap-3 mb-8">
    <span class="text-3xl text-blue-600">üë§</span>
    <h2 class="text-2xl font-bold text-gray-800">Perfil</h2>
  </div>

  <!-- CARD DEL FORMULARIO -->
  <div class="bg-white shadow-lg rounded-xl border border-gray-200 p-6">

    <form [formGroup]="profileForm" class="space-y-6">

      <!-- FOTO + INPUT -->
      <div class="flex items-start gap-6">

        <!-- Vista previa de la foto -->
        <div class="w-32 h-32 rounded-full overflow-hidden bg-gray-200 border shadow-md flex items-center justify-center relative">

          <img
            id="profile-photo-preview"
            [src]="profileForm.value.photo || ''"
            class="w-full h-full object-cover"
            alt="Foto de perfil"
          />

          <span
            *ngIf="!profileForm.value.photo"
            class="absolute text-gray-500 text-sm"
          >
            Sin foto
          </span>
        </div>

        <!-- Input de archivo -->
        <div class="flex-1">
          <label class="block font-semibold mb-2">Fotograf√≠a</label>

          <label
            class="cursor-pointer inline-flex items-center justify-center gap-2
                   bg-white text-blue-600 border border-blue-600
                   px-4 py-2 rounded-lg shadow-sm
                   hover:bg-blue-600 hover:text-white hover:shadow-md
                   transition active:scale-95 select-none w-auto"
          >
            üì∑ Seleccionar imagen

            <input
              type="file"
              accept="image/*"
              (change)="onPhotoSelected($event)"
              class="hidden"
            />
          </label>

          <p class="text-gray-500 text-xs mt-1">Formatos permitidos: JPG, PNG</p>
        </div>

      </div>

      <!-- Nombre -->
      <label class="block">
        <span class="font-semibold text-gray-700">Nombre</span>
        <input
          formControlName="name"
          class="mt-1 w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-400 focus:outline-none"
        />
        <p class="text-red-600 text-sm mt-1"
           *ngIf="profileForm.get('name')?.invalid && profileForm.get('name')?.touched">
          El nombre es obligatorio y debe tener al menos 2 caracteres.
        </p>
      </label>

      <!-- Apellidos -->
      <label class="block">
        <span class="font-semibold text-gray-700">Apellidos</span>
        <input
          formControlName="surname"
          class="mt-1 w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-400 focus:outline-none"
        />
        <p class="text-red-600 text-sm mt-1"
           *ngIf="profileForm.get('surname')?.invalid && profileForm.get('surname')?.touched">
          Los apellidos son obligatorios y deben tener al menos 2 caracteres.
        </p>
      </label>

      <!-- Email -->
      <label class="block">
        <span class="font-semibold text-gray-700">Email</span>
        <input
          formControlName="email"
          type="email"
          class="mt-1 w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-400 focus:outline-none"
        />
        <p class="text-red-600 text-sm mt-1"
           *ngIf="profileForm.get('email')?.invalid && profileForm.get('email')?.touched">
          Introduce un email v√°lido.
        </p>
      </label>

      <!-- Tel√©fono -->
      <label class="block">
        <span class="font-semibold text-gray-700">Tel√©fono</span>
        <input
          formControlName="phone"
          class="mt-1 w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-400 focus:outline-none"
        />
        <p class="text-red-600 text-sm mt-1"
           *ngIf="profileForm.get('phone')?.invalid && profileForm.get('phone')?.touched">
          El tel√©fono debe tener entre 9 y 15 caracteres.
        </p>
      </label>

      <!-- Descripci√≥n -->
      <label class="block">
        <span class="font-semibold text-gray-700">Descripci√≥n</span>
        <textarea
          formControlName="summary"
          class="mt-1 w-full border rounded-lg px-3 py-2 h-32 resize-none focus:ring-2 focus:ring-blue-400 focus:outline-none"
        ></textarea>
        <p class="text-red-600 text-sm mt-1"
           *ngIf="profileForm.get('summary')?.invalid && profileForm.get('summary')?.touched">
          La descripci√≥n debe tener al menos 20 caracteres.
        </p>
      </label>

      <!-- BOT√ìN GUARDAR -->
      <button
        type="button"
        (click)="saveProfile()"
        class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition"
      >
        Guardar perfil
      </button>

    </form>

  </div>

</div>