<div class="max-w-4xl mx-auto px-6 py-8">

  <!-- T√çTULO PRINCIPAL -->
  <div class="flex items-center gap-3 mb-8">
    <span class="text-3xl text-purple-600">üíº</span>
    <h2 class="text-2xl font-bold text-gray-800">Experiencia Laboral</h2>
  </div>

  <form [formGroup]="experienceForm" class="space-y-6">

    <div formArrayName="jobs" class="space-y-6">

      <div
        *ngFor="let job of jobs.controls; let i = index"
        [formGroupName]="i"
        class="p-6 bg-white shadow-lg rounded-xl border border-gray-200 space-y-4"
      >

        <!-- Subt√≠tulo -->
        <div class="flex items-center justify-between mb-2">
          <div class="flex items-center gap-2">
            <span class="text-xl text-purple-600">üóÇÔ∏è</span>
            <h3 class="text-lg font-semibold text-gray-700">Experiencia {{ i + 1 }}</h3>
          </div>

          <button
            type="button"
            (click)="removeJob(i)"
            class="bg-red-500 text-white px-3 py-1.5 rounded-lg hover:bg-red-600 transition shadow-sm active:scale-95"
          >
            Eliminar
          </button>
        </div>

        <!-- Puesto -->
        <label class="block">
          <span class="font-semibold text-gray-700">Puesto</span>
          <input
            formControlName="role"
            class="mt-1 w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-400 focus:outline-none"
          />
          <small
            *ngIf="job.get('role')?.invalid && (job.get('role')?.touched || job.get('role')?.dirty)"
            class="text-red-600 text-sm"
          >
            El puesto es obligatorio.
          </small>
        </label>

        <!-- Empresa -->
        <label class="block">
          <span class="font-semibold text-gray-700">Empresa</span>
          <input
            formControlName="company"
            class="mt-1 w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-400 focus:outline-none"
          />
          <small
            *ngIf="job.get('company')?.invalid && (job.get('company')?.touched || job.get('company')?.dirty)"
            class="text-red-600 text-sm"
          >
            La empresa es obligatoria.
          </small>
        </label>

        <!-- A√±o inicio -->
        <label class="block">
          <span class="font-semibold text-gray-700">A√±o inicio</span>
          <input
            formControlName="startYear"
            type="number"
            class="mt-1 w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-400 focus:outline-none"
          />
          <small
            *ngIf="job.get('startYear')?.invalid && (job.get('startYear')?.touched || job.get('startYear')?.dirty)"
            class="text-red-600 text-sm"
          >
            A√±o inv√°lido.
          </small>
        </label>

        <!-- A√±o fin -->
        <label class="block">
          <span class="font-semibold text-gray-700">A√±o fin</span>
          <input
            formControlName="endYear"
            type="number"
            class="mt-1 w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-400 focus:outline-none"
          />
          <small
            *ngIf="job.get('endYear')?.invalid && (job.get('endYear')?.touched || job.get('endYear')?.dirty)"
            class="text-red-600 text-sm"
          >
            A√±o inv√°lido.
          </small>
        </label>

        <!-- Descripci√≥n -->
        <label class="block">
          <span class="font-semibold text-gray-700">Descripci√≥n</span>
          <textarea
            formControlName="description"
            class="mt-1 w-full border rounded-lg px-3 py-2 h-28 resize-none focus:ring-2 focus:ring-purple-400 focus:outline-none"
          ></textarea>
          <small
            *ngIf="job.get('description')?.invalid && (job.get('description')?.touched || job.get('description')?.dirty)"
            class="text-red-600 text-sm"
          >
            La descripci√≥n debe tener al menos 10 caracteres.
          </small>
        </label>

      </div>
    </div>

    <button
      type="button"
      (click)="addJob()"
      class="bg-purple-600 text-white px-5 py-2 rounded-lg hover:bg-purple-700 transition shadow active:scale-95"
    >
      ‚ûï A√±adir experiencia
    </button>

    <button
      type="button"
      (click)="save()"
      class="bg-green-600 text-white px-5 py-2 rounded-lg hover:bg-green-700 transition shadow active:scale-95"
    >
      Guardar experiencia
    </button>

  </form>

</div>